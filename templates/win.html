{% extends "base.html" %}

{% block title %}Cyber Bomb - ¡Victoria!{% endblock %}

{% block content %}
<div class="container" id="main-content">
    <div class="text-center">
        <h1>🎉 ¡VICTORIA! 🎉</h1>
        <h2>¡Has desactivado la bomba digital!</h2>
        
        <div style="margin: 2rem 0; padding: 2rem; background-color: #065F46; border-radius: 10px; border: 2px solid #10B981;">
            <h3 style="color: #D1FAE5;">🏆 Misión Completada</h3>
            <p style="font-size: 1.2rem; margin: 1rem 0;">
                ¡Excelente trabajo! Has demostrado tus habilidades de ciberseguridad y has salvado a la empresa.
            </p>
            
            <div style="margin: 2rem 0; padding: 1.5rem; background-color: #047857; border-radius: 5px;">
                <h4 style="color: #A7F3D0; margin-bottom: 1rem;">📊 Estadísticas de Rendimiento</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="text-align: center; padding: 1rem; background-color: #065F46; border-radius: 5px;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #D1FAE5;">{{ stats.total_preguntas }}</div>
                        <div style="color: #A7F3D0; font-size: 0.9rem;">Preguntas Totales</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background-color: #065F46; border-radius: 5px;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #D1FAE5;">{{ stats.respuestas_correctas }}</div>
                        <div style="color: #A7F3D0; font-size: 0.9rem;">Respuestas Correctas</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background-color: #065F46; border-radius: 5px;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #D1FAE5;">{{ stats.tiempo_promedio_individual }}s</div>
                        <div style="color: #A7F3D0; font-size: 0.9rem;">Tiempo Promedio</div>
                    </div>
                </div>
            </div>
            
            <!-- Tiempos Individuales por Pregunta -->
            <div style="margin: 2rem 0; padding: 1.5rem; background-color: #1F2937; border-radius: 5px; border: 2px solid #374151;">
                <h4 style="color: #87CEEB; margin-bottom: 1rem;">⏱️ Tiempos por Pregunta</h4>
                <div style="max-height: 300px; overflow-y: auto; padding: 0.5rem;">
                    {% for tiempo in stats.individual_times %}
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; margin: 0.5rem 0; background-color: #2D3748; border-radius: 5px; border-left: 4px solid {% if tiempo.es_correcta %}#10B981{% else %}#EF4444{% endif %};">
                        <div>
                            <strong style="color: {% if tiempo.es_correcta %}#10B981{% else %}#EF4444{% endif %};">Pregunta {{ tiempo.pregunta_numero }}</strong>
                            <div style="font-size: 0.9rem; color: #A0AEC0; margin-top: 0.25rem;">{{ tiempo.titulo_pregunta[:50] }}{% if tiempo.titulo_pregunta|length > 50 %}...{% endif %}</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 1.2rem; font-weight: bold; color: #D1FAE5; font-family: monospace;">{{ tiempo.tiempo_segundos }}s</div>
                            <div style="font-size: 0.8rem; color: {% if tiempo.es_correcta %}#10B981{% else %}#EF4444{% endif %};">{% if tiempo.es_correcta %}✓ Correcta{% else %}✗ Incorrecta{% endif %}</div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div style="margin-top: 1rem; padding: 1rem; background-color: #2D3748; border-radius: 5px; text-align: center;">
                    <strong style="color: #D1FAE5;">Tiempo Total Individual: {{ stats.tiempo_total_individual }}s</strong>
                </div>
            </div>
        </div>
        
        <div style="margin: 2rem 0; padding: 2rem; background-color: #1F2937; border-radius: 10px; border: 2px solid #374151;">
            <h3>🎓 Lo que has aprendido</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 1.5rem 0;">
                <div style="padding: 1rem; background-color: #2D3748; border-radius: 5px; border-left: 4px solid #10B981;">
                    <h4 style="color: #10B981;">🔓 Contraseñas Seguras</h4>
                    <p style="font-size: 0.9rem;">
                        Aprendiste a identificar contraseñas débiles y la importancia de usar combinaciones complejas.
                    </p>
                </div>
                
                <div style="padding: 1rem; background-color: #2D3748; border-radius: 5px; border-left: 4px solid #3B82F6;">
                    <h4 style="color: #3B82F6;">🎣 Detección de Phishing</h4>
                    <p style="font-size: 0.9rem;">
                        Desarrollaste habilidades para identificar correos fraudulentos y verificar dominios sospechosos.
                    </p>
                </div>
                
                <div style="padding: 1rem; background-color: #2D3748; border-radius: 5px; border-left: 4px solid #FFB347;">
                    <h4 style="color: #FFB347;">🔐 Cifrado Básico</h4>
                    <p style="font-size: 0.9rem;">
                        Comprendiste los fundamentos del cifrado y cómo funcionan los métodos de codificación.
                    </p>
                </div>
            </div>
        </div>
        
        <div style="margin: 2rem 0; padding: 1.5rem; background-color: #1F2937; border-radius: 5px; border-left: 4px solid #3B82F6;">
            <h4 style="color: #87CEEB; margin-bottom: 0.5rem;">💡 Próximos Pasos</h4>
            <p style="font-size: 0.9rem; margin: 0;">
                <strong>Continúa aprendiendo:</strong> La ciberseguridad es un campo en constante evolución. 
                Mantente actualizado sobre las últimas amenazas y mejores prácticas. 
                Considera tomar cursos más avanzados o certificaciones en ciberseguridad.
            </p>
        </div>
        
        <div class="btn-group">
            <a href="{{ url_for('reset') }}" class="btn btn-primary" aria-label="Jugar de nuevo">
                🎮 JUGAR DE NUEVO
            </a>
            <a href="{{ url_for('home') }}" class="btn" aria-label="Volver al inicio">
                🏠 VOLVER AL INICIO
            </a>
        </div>
        
        <div style="margin-top: 2rem; padding: 1rem; background-color: #1F2937; border-radius: 5px; border-left: 4px solid #FFB347;">
            <h4 style="color: #FFB347; margin-bottom: 0.5rem;">🌟 ¡Comparte tu logro!</h4>
            <p style="font-size: 0.9rem; margin: 0;">
                ¿Te gustó el juego? ¡Comparte esta experiencia educativa con amigos y familiares! 
                La conciencia sobre ciberseguridad es fundamental en el mundo digital actual.
            </p>
        </div>
    </div>
</div>
{% endblock %}
